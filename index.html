<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <title>PC Hardware 3D</title>

  <!-- Three.js -->
  <script src="https://unpkg.com/three@0.158.0/build/three.min.js"></script>
  <script src="https://unpkg.com/three@0.158.0/examples/js/controls/OrbitControls.js"></script>

  <style>
    body {
      margin: 0;
      background: #bdbdbd; /* abu */
      font-family: Arial, sans-serif;
    }

    .wrapper {
      max-width: 1000px;
      margin: auto;
      padding: 20px;
    }

    .viewer {
      background: #f5f5f0; /* broken white */
      border-radius: 12px;
      height: 500px;
      position: relative;
    }

    canvas {
      display: block;
    }

    .buttons {
      margin-top: 15px;
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      justify-content: center;
    }

    button {
      padding: 8px 14px;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      background: #e0e0e0;
      transition: 0.3s;
    }

    button.active {
      background: #4caf50;
      color: white;
    }

    button:hover {
      background: #9ccc65;
    }

    .info {
      margin-top: 15px;
      background: white;
      padding: 15px;
      border-radius: 10px;
      opacity: 0;
      transform: translateY(10px);
      transition: 0.5s;
    }

    .info.show {
      opacity: 1;
      transform: translateY(0);
    }
  </style>
</head>
<body>

<div class="wrapper">
  <div class="viewer" id="viewer"></div>

  <div class="buttons">
    <button onclick="focusPart('cpu', this)">CPU</button>
    <button onclick="focusPart('gpu', this)">GPU / VGA</button>
    <button onclick="focusPart('ram', this)">RAM</button>
    <button onclick="focusPart('mb', this)">Motherboard</button>
    <button onclick="focusPart('psu', this)">PSU</button>
    <button onclick="resetView()">Reset</button>
  </div>

  <div class="info" id="infoBox"></div>
</div>

<script>
  const scene = new THREE.Scene();

  const camera = new THREE.PerspectiveCamera(
    50,
    1000 / 500,
    0.1,
    1000
  );

  // POSISI AWAL (SAMPING)
  const defaultCameraPos = new THREE.Vector3(6, 2, 0);
  const defaultTarget = new THREE.Vector3(0, 1, 0);

  camera.position.copy(defaultCameraPos);

  const renderer = new THREE.WebGLRenderer({ antialias: true });
  renderer.setSize(1000, 500);
  document.getElementById("viewer").appendChild(renderer.domElement);

  const controls = new THREE.OrbitControls(camera, renderer.domElement);
  controls.target.copy(defaultTarget);
  controls.enableDamping = true;
  controls.autoRotate = true;
  controls.autoRotateSpeed = 1;
  controls.enablePan = true;
  controls.minDistance = 4;
  controls.maxDistance = 10;

  // LIGHT
  scene.add(new THREE.AmbientLight(0xffffff, 0.6));
  const light = new THREE.DirectionalLight(0xffffff, 0.8);
  light.position.set(5, 5, 5);
  scene.add(light);

  // GROUP PC
  const pc = new THREE.Group();
  scene.add(pc);

  const material = new THREE.MeshStandardMaterial({ color: 0xaaaaaa });

  // Motherboard
  const mb = new THREE.Mesh(new THREE.BoxGeometry(0.1, 3, 2), material);
  mb.position.set(0, 1.5, 0);
  pc.add(mb);

  // CPU
  const cpu = new THREE.Mesh(new THREE.BoxGeometry(0.3, 0.3, 0.3),
    new THREE.MeshStandardMaterial({ color: 0xffc107 }));
  cpu.position.set(0.2, 1.6, 0);
  pc.add(cpu);

  // RAM
  const ram = new THREE.Mesh(new THREE.BoxGeometry(0.1, 1, 0.3),
    new THREE.MeshStandardMaterial({ color: 0x2196f3 }));
  ram.position.set(0.25, 1.8, 0.6);
  pc.add(ram);

  // GPU
  const gpu = new THREE.Mesh(new THREE.BoxGeometry(1.2, 0.3, 0.4),
    new THREE.MeshStandardMaterial({ color: 0x4caf50 }));
  gpu.position.set(0.7, 0.8, 0);
  pc.add(gpu);

  // PSU
  const psu = new THREE.Mesh(new THREE.BoxGeometry(0.8, 0.6, 0.6),
    new THREE.MeshStandardMaterial({ color: 0x616161 }));
  psu.position.set(0.7, 0.3, 0);
  pc.add(psu);

  const parts = {
    cpu: { obj: cpu, text: "CPU adalah otak komputer yang memproses semua instruksi." },
    gpu: { obj: gpu, text: "GPU berfungsi mengolah grafis dan tampilan visual." },
    ram: { obj: ram, text: "RAM menyimpan data sementara agar komputer berjalan cepat." },
    mb: { obj: mb, text: "Motherboard adalah papan utama penghubung semua komponen." },
    psu: { obj: psu, text: "PSU menyuplai dan mengatur daya listrik ke seluruh komponen." }
  };

  function focusPart(key, btn) {
    document.querySelectorAll("button").forEach(b => b.classList.remove("active"));
    btn.classList.add("active");

    const part = parts[key].obj;

    controls.autoRotate = false;

    camera.position.lerp(
      new THREE.Vector3(4, part.position.y, 0),
      0.15
    );

    controls.target.lerp(part.position, 0.15);

    const info = document.getElementById("infoBox");
    info.innerText = parts[key].text;
    info.classList.add("show");
  }

  function resetView() {
    controls.autoRotate = true;
    camera.position.copy(defaultCameraPos);
    controls.target.copy(defaultTarget);

    document.querySelectorAll("button").forEach(b => b.classList.remove("active"));
    document.getElementById("infoBox").classList.remove("show");
  }

  function animate() {
    requestAnimationFrame(animate);
    controls.update();
    renderer.render(scene, camera);
  }
  animate();
</script>

</body>
</html>
